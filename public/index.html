<!doctype html>
<html>

<head>
    <title></title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <main>

        <form>
            <input v-model='title' type="text" name='title' placeholder='title'>
            <input v-model='description' type="text" name='description' placeholder='description'>
            <input v-model='username' type="text" name='username' placeholder='username'>
            <input @change='handleChange' type="file" name='file' accept='image/*'>
            <button @click='handleClick'>submit</button>
        </form>

        <section>
            <div v-if='images.length > 0'>
                <div class="img-card" v-for='image in images'>
                    <a :href="'#' + image.id">

                        <img :src=image.url>
                        {{ image.title }}
                    </a>
                </div>
            </div>
            <div v-else>no images</div>
            <image-modal class="img-modal" v-if='imageId' @close="close" :image-id="imageId"> </image-modal>
            <button @click='showMore'>show more</button>
        </section>
    </main>




    <script id='image-modal' type="text/x-template">
        <div>
           
            <button class="close-button"   @click="$emit('close')">x</button>
            <img :src=photoObj.url :alt=photoObj.title>
            <h1>{{photoObj.title}}</h1>
            <p>{{photoObj.description}}</p>
            <h5>uploaded at: {{photoObj.created_at}}</h5>
            <form>
                <input v-model='comment' type="text" name='comment' placeholder='comment'>
                <input v-model='username' type="text" name='username' placeholder='username'>
                <button @click='handleComment'>add a comment</button>
            </form>
            <div v-if='comments.length > 0'>
                <div class="comment" v-for='comment in comments'>
                    {{ comment.comment }}
                    <span class="comment-info">{{comment.username}}{{ comment.created_at }}</span> 
                </div>
            </div>
            <div v-else>no comments yet</div>
        </div>
    </script>


    <script src="/js/vue.js"></script>
    <script src="/js/axios.min.js"></script>
    <script src="/js/script.js"></script>
</body>

</html>